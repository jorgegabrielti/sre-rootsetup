#!/bin/bash 
#
# ##########################################################################
# +----------------------------------------------------------------------+ #
# |                 Backup Shell                                         | #
# +----------------------------------------------------------------------+ #
# |                                                                      | #
# | Name          : main.sh                                              | #
# | Function      : startup sre tools install                            | #
# | Version       : 1.0                                                  | #
# | Author        : Jorge Gabriel (SRE)                                  | #
# | Email         : jorgegabriel.ti@gmail.com                            | #
# +----------------------------------------------------------------------+ #
# ##########################################################################
#
# Description:
#
# Algortimo do script :
#  Install SRE tools for start work.
# --------------------------------------------------------------------------## Alias eXpands
shopt -s expand_aliases

### Workdir
WORK_DIR="${PWD}"

### Import functions
for FUNCTION in $(grep -F 'Test: [OK]' -l -r ${WORK_DIR}/src/function/); do
  sed -i 's/\r$//' ${FUNCTION}
  source ${FUNCTION}
done

### System configurations
time distro_detect && \
  update_system

### Packages installations
time packages_install

### Python install
time python_install

## TODO: user firebug para sites cujo o download 
## de artefatos não seja tão simples. Usar curl em seguida.
#

#### Containers tools
## Docker
time docker_install

#### IaC Tools
## Ansible
time ansible_install

## Vagrant
time vagrant_install 

## Terraform
time terraform_install 

#### Cloud Tools 
## aws-cli
time awscli_install

## gcloud
time gcloud_install

## Kubernetes
## kind
time kind_install

## istio
time istio_install

## Kubectl
time kubectl_install
